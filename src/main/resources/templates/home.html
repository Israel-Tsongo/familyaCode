<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Home</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css?h=5109094f4fe4d36cc6aaa13ded79fc55">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i">
    <link rel="stylesheet" href="assets/fonts/fontawesome-all.min.css?h=9db842b3dc3336737559eb4abc0f1b3d">
    <link rel="stylesheet" href="assets/fonts/font-awesome.min.css?h=9db842b3dc3336737559eb4abc0f1b3d">
    <link rel="stylesheet" href="assets/fonts/fontawesome5-overrides.min.css?h=9db842b3dc3336737559eb4abc0f1b3d">
      <link rel="stylesheet" href="assets/css/styleNav.css">
    
    <link rel="stylesheet" th:href="@{assets/css/styles.min.css}">
</head>
<body>
           <nav class="navbar navbar-light navbar-expand-md fixed-top nav-classe" style="position: fixed;height:55px; background-color:rgb(78, 115, 223)" id="navbar-up">
			        <div class="container-fluid"><button data-toggle="collapse" class="navbar-toggler" data-target="#navcol-1"><span class="sr-only">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
			            <div class="collapse navbar-collapse" id="navcol-1">
			                <ul class="nav navbar-nav" id="up-nav">
			                    <li class="nav-item" role="presentation"><a class="nav-link active" href="#" style="text-shadow: 1px 1px 1px rgba(200,200,200,0.5); font-weight:bold">Caisse Familya UCBC</a></li>
			                    <li class="nav-item" role="presentation"  style="margin-left:60%"><a class="nav-link" th:href="@{/home}" style="font-weight:bold;padding-top:5px">Home</a></li>
			                    <li class="nav-item " id="dropdown-button" style="margin-top:5px"><a th:href="@{/logout}" style="font-weight:bold;padding-top:5px">Logout </a> </li>			                       
			                    
			                </ul>
			            </div>
			        </div>
   		  </nav>
   		   
          <div class="row justify-content-center" style="height:600px;position:relative;margin-top:50px;">
                    
            		<div class="col d-flex justify-content-center align-items-center">
            		         <div  class="justify-content-center" >
	            		         <div class="justify-content-center" style="margin-top:2rem" > 
	            		             <h2 class="justify-content-center text-center" style="text-shadow:2px 1px 1px black">Voici votre situation financiere :</h2>
	            		         
	            		         </div>
            		    
				                 <div style="width: 630px;display: flex;justify-content: center;align-items: center;border: 1px solid rgba(0,0,0,0.2);margin-top: 1rem;">
				                        <div style="width: 550px;">
				                            <div class="d-sm-flex justify-content-between justify-content-xl-center mb-4">
				                                <div class="row d-xl-flex justify-content-xl-center" style="width: 530px;margin-right: -7px;">
				                                    <div class="col-sm-10 col-md-10 col-xl-10 offset-1 offset-sm-1 offset-md-2 offset-xl-0" style="padding-right: 0px;padding-left: 3px;">
				                                        <div id ="nameInfoCard" class="card shadow border-start-success py-2" style="width: 420px;">
				                                            <div class="card-body" style="padding-top: 5px;padding-bottom: 5px;padding-right: 5px;padding-left: 5px;">
				                                                <div class="row" style="width: 405.383px;height: 71.7333px;margin: 0px;">
				                                                    <div class="col-xl-2" style="width: 67px;"><span style="display: inline-block;"><i class="fa fa-user" style="font-size: 60px;"></i></span></div>
				                                                    <div class="col-10 col-sm-10 col-xl-10 align-self-center" style="padding: 0px;">
				                                                        <div class="row" style="margin: 0px;">
				                                                            <div class="col-2 col-sm-2 offset-xl-0" style="padding: 0px;">
				                                                                <h6>Nom:</h6>
				                                                            </div>
				                                                            <div class="col-9 col-sm10 col-xl-9 offset-xl-0" style="padding: 0px;"><span style="font-weight: 500;font-style: italic;font-size: 18px;padding-left: 1.3rem;opacity: 0.60;" th:text="${nom}"> </span></div>
				                                                        </div>
				                                                        <div class="row">
				                                                            <div class="col-4 col-sm-4 col-xl-4">
				                                                                <h6 style="margin: 0px;">Matricule:</h6>
				                                                            </div>
				                                                            <div class="col-6 col-sm-5" style="padding: 0px;"><span style="font-weight: 500;font-style: italic;opacity: 0.60;" th:text="${matricule}"></span></div>
				                                                        </div>
				                                                    </div>
				                                                </div>
				                                            </div>
				                                        </div>
				                                    </div>
				                                </div>
				                            </div>
				                            <div class="d-md-flex d-xl-flex justify-content-md-center justify-content-xl-center">
				                                <div style="width: 520px;">
				                                    <div class="row d-xl-flex justify-content-xl-center" style="width: 530px;">
				                                        <div class="col-md-6 col-xl-5 mb-4">
				                                            <div class="card shadow border-start-success py-2">
				                                                <div class="card-body">
				                                                    <div class="row align-items-center no-gutters">
				                                                        <div class="col me-2">
				                                                            <div class="text-uppercase text-success fw-bold text-xs mb-1" style="font-size: 15px;"><span style="font-size: 16px;">Capital&nbsp;</span></div>
				                                                            <div class="text-dark fw-bold h5 mb-0"><span style="font-size: 17px;" th:text="${capital+' $'}"></span></div>
				                                                        </div>
				                                                        <div class="col-auto"><i class="fas fa-dollar-sign fa-2x text-gray-300" style="font-size: 18px;opacity: 0.50;"></i></div>
				                                                    </div>
				                                                </div>
				                                            </div>
				                                        </div>
				                                        <div class="col-md-6 col-xl-5 mb-4">
				                                            <div class="card shadow border-start-warning py-2">
				                                                <div class="card-body">
				                                                    <div class="row align-items-center no-gutters">
				                                                        <div class="col me-2">
				                                                            <div class="text-uppercase text-warning fw-bold text-xs mb-1"><span style="font-size: 15px;">Contribution</span></div>
				                                                            <div class="text-dark fw-bold h5 mb-0" style="font-size: 17px;"><span style="color: rgb(255,193,7);" th:text="${contributions+' $'}"></span></div>
				                                                        </div>
				                                                        <div class="col-auto"><i class="fas fa-dollar-sign fa-2x text-gray-300" style="font-size: 18px;opacity: 0.50;"></i></div>
				                                                    </div>
				                                                </div>
				                                            </div>
				                                        </div>
				                                    </div>
				                                    <div class="row d-xl-flex justify-content-xl-center align-items-xl-center" style="width: 530px;">
				                                        <div class="col-md-6 col-xl-5 mb-4">
				                                            <div class="card shadow border-start-primary py-2">
				                                                <div class="card-body">
				                                                    <div class="row align-items-center no-gutters">
				                                                        <div class="col me-2">
				                                                            <div class="text-uppercase text-primary fw-bold text-xs mb-1"><span style="font-size: 15px;">Dette</span></div>
				                                                            <div class="text-dark fw-bold h5 mb-0" style="font-size: 17px;"><span style="color: rgb(0,124,253);" th:text="${detteCourante +' $'}" ></span></div>
				                                                        </div>
				                                                        <div class="col-auto"><i class="fas fa-dollar-sign fa-2x text-gray-300" style="font-size: 18px;opacity: 0.51;"></i></div>
				                                                    </div>
				                                                </div>
				                                            </div>
				                                        </div>
				                                        <div class="col-md-6 col-xl-5 mb-4">
				                                            <div class="card shadow border-start-primary py-2">
				                                                <div class="card-body">
				                                                    <div class="row align-items-center no-gutters">
				                                                        <div class="col me-2">
				                                                            <div class="text-uppercase text-primary fw-bold text-xs mb-1"><span style="font-size: 15px;color: var(--bs-indigo);">solde</span></div>
				                                                            <div class="text-dark fw-bold h5 mb-0"><span style="font-size: 17px;color: rgb(4,2,13);" th:text="${solde+' $'}"></span></div>
				                                                        </div>
				                                                        <div class="col-auto"><i class="fas fa-dollar-sign fa-2x text-gray-300" style="font-size: 18px;opacity: 0.50;"></i></div>
				                                                    </div>
				                                                </div>
				                                            </div>
				                                        </div>
				                                    </div>
				                                    <div class="row d-xl-flex justify-content-xl-center" style="width: 530px;">
				                                        <div class="col-md-6 col-xl-5 offset-0 offset-sm-0 offset-md-3 offset-xl-0 mb-4">
				                                            <div class="card shadow border-start-success py-2">
				                                                <div class="card-body">
				                                                    <div class="row align-items-center no-gutters">
				                                                        <div class="col me-2">
				                                                            <div class="text-uppercase text-success fw-bold text-xs mb-1"><span style="color: var(--bs-cyan);">interet</span></div>
				                                                            <div class="text-dark fw-bold h5 mb-0"><span style="font-size: 17px;color: var(--bs-cyan);opacity: 0.6;" th:text="${interet+' $'}"></span></div>
				                                                        </div>
				                                                        <div class="col-auto"><i class="fas fa-dollar-sign fa-2x text-gray-300" style="font-size: 18px;opacity: 0.50;"></i></div>
				                                                    </div>
				                                                </div>
				                                            </div>
				                                        </div>
				                                    </div>
				                                </div>
				                            </div>
				                        </div>
				                    
				                    </div>
				           
				            </div>
            		       
            				
            		</div>
            		
            		
            		<!--  -->
            		<div class="btn-group-fab" style="position:absolute;right:49%;bottom:-15%" role="group" aria-label="FAB Menu" id="floatingBtn" >
						<div>
							 <button type="button"  id="menuInDeb" class="btn btn-main btn-primary has-tooltip" data-placement="left" title="Menu">
							 	<i class="fa fa-bars"></i>
							 </button>
						     <button style="padding-top:15%;padding-left:20%" type="button" th:onclick="javascript:pagination1([[${currentPage}]])"  id="showCotisationBtn"    class="btn btn-sub btn-warning has-tooltip" data-placement="left" title="Contributions">
						     	<i class="fas fa-list-alt"></i>
						     </button>
						</div>
    				</div> 
            		
          		
            		<!--  -->
            		 <div class="modal fade" id="siteUseModal" role="dialog" tabindex="-1" >
                        <div class="modal-dialog" role="document" style="max-width:80%">
                            <div class="modal-content">
                            
	                            <div class="modal-header d-xl-flex justify-content-xl-center">
	                                   
	                            </div>
                                <div class="modal-body">
                                
                                    <div id="content">           
                 
			            <div class="container-fluid" id="userSiteContainer" th:fragment="userSiteContainer" >
			                
			                <script th:inline="javascript">
			                	
			                   document.querySelector("#tableMember").style.display="none";
					       	   document.querySelector("#table-member").style.display="block";
					       	   document.querySelector(".pagin2").style.display="none";
					       	   document.querySelector(".pagin1").style.display="block";
			                
			                   var pa=(function pages(){ var p=[[${pages}]]; return p; }());
			                   var errorList=(function errors(){ var error=[[${errorList}]];return error; }());	   
			                   
			                   $(document).ready(function(){
									  $("#pageSize").val([[${currentSize}]]);			                    
								  })   
			                	
			                
			                </script>
			                <!-- Start: Chart -->
			                
			                <div class="row">
			                    <div class="col">
			                        <div class="card shadow mb-12" id="card-center">
			                            <div class="card-header d-flex justify-content-between align-items-center">
			                                <h4 class="text-primary font-weight-bold m-0 " style="text-shadow:1px 1px 1px black">Vos Contributions mensuelles</h4>
			                                <div class="dropdown no-arrow">
			                                	<button class="btn btn-link btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false" type="button">
			                                		<i class="fas fa-ellipsis-v text-gray-400"></i>
			                                	</button>
			                                    <div class="dropdown-menu shadow dropdown-menu-right animated--fade-in">
			                                        <p class="text-center dropdown-header">dropdown header:</p>
			                                        	<a class="dropdown-item" style="cursor:pointer;font-size:17px;" id="exportInPdf"   onclick="actions(exportInPdf)">Exporter sous PDF </a>
			                                        	<a class="dropdown-item" style="cursor:pointer;font-size:17px" id="rembourseBtn"  onclick="rembourseList()">Remboursements </a>
			                                           <!--  <div class="dropdown-divider"> </div>			                                        
			                                        	<a class="dropdown-item" href="#">Something else here</a>-->
			                                    </div>
			                                </div>
			                            </div>
			                            <div class="jumbotron jumbot" style="height: -100px;padding: 3px;"></div>
			                            <div class="card-body" id="card-member" style="margin: 0px;padding: 10px;">
			                                <div class="row" id="search-row">
			                                    <div class="col-md-4 text-nowrap">
			                                        <div id="dataTable_length" class="dataTables_length" aria-controls="dataTable">
			                                        <label>Show&nbsp;<select class="form-control form-control-sm custom-select custom-select-sm" id="pageSize" th:onclick="javascript:setPageSize()">
			                                        <option value="5">5</option>
			                                        <option value="10">10</option>
			                                        <option value="15">15</option>
			                                        <option value="20">20</option>
			                                        </select>&nbsp;</label>
			                                        </div>
			                                    </div>
			                                    
			                                    <p  th:text="${#request.getParameter('errorList')}">Aucune error</p>
			                                    
			                                    <div class="col-md-4 text-nowrap">
			                                                                                
			                                    </div>
			                                    <div class="col-md-4">
			                                        <div class="text-md-right dataTables_filter form-group row" id="dataTable_filter"  style="height:35px;width: 300px; position:absolute;right:8%">
			                                              <input  type="text" id="keyWord"  name="keyWord" th:value="${keyWord}" class="form-control form-control-sm col" aria-controls="dataTable" placeholder="Search by date" >
			                                              <button id=searcher th:onclick="javascript:pagination1([[${currentPage}]])" class="btn btn-primary col " style="height:32px;width: 120px;margin-left:7px;font-style:italique;padding:0px;font-weight:bold" >Chercher</button>                                        
			                                        
			                                        </div>
			                                    </div>
			                                </div>
			                                <div class="table-responsive" id="table-member" >
			                                    <table class="table fixed-header">
			                                        <thead>
			                                            <tr id="tab-header">
			                                                <th style="padding: 0px;width: 0px;"></th>
			                                                <th >Nom</th>
			                                                <th >Matricule</th>
			                                                <th >Contributions</th>
			                                                <th >Date payement</th>
			                                            </tr>
			                                        </thead>
			                                        <tbody>
			                                            <tr th:each="element:${lst}">
			                                                <td style="padding: 12px;width: 36px;">
			                                                    <input th:value="${element.get(0)}"  th:onclick="javascript:isCheckedInContrib([[${element.get(0)}]] , [[${lst}]])" type="radio">
			                                                </td>                                                
			                                                <td   th:text="${element.get(1)}" > </td>
			                                                <td   th:text="${element.get(2)}" > </td>
			                                                <td   th:text="${element.get(3)+' $'}" > </td>
			                                                <td   th:text="${element.get(4)}" > </td>
			                                            </tr>
			                                            
			                                        </tbody>
			                                    </table>
			                                </div>
			                                <div class="table-responsive" id="tableMember">
	                                       <table class="table">
	                                        <thead>
	                                            <tr id="tab-header">
	                                                <th></th>
	                                                <th>Nom</th>
	                                                <th>Matricule</th>
	                                                <th>Dette</th>
	                                                <th>Remboursement</th>
	                                                <th style="max-width:200px">MontantRestant </th>
	                                                <th>Echeance</th>
	                                                <th>Interet</th>
	                                                <th>Date payement</th>
	                                            </tr>
	                                        </thead>
	                                        <tbody>
	                                            <tr th:each="element:${lstR}">
	                                                
	                                                <td class="text-center" style="width: 36.8px;padding: 12px;font-size: 16px;border-width: 2px;">                                                  
	                                                    <input th:value="${element.get(0)}"  th:onclick="javascript:isCheckedInRembourse([[${element.get(0)}]],[[${lst}]]);" class="idMember" type="radio" name="chk" style="margin-top: 0px;">                                                                                                  
	                                             </td>
	                                                <td  th:text="${element.get(1)}" > </td>
	                                                <td  th:text="${element.get(2)}" ></td>
	                                                <td  th:text="${element.get(3)+'$'}" ></td>
	                                                <td  th:text="${element.get(4)+' $'}"></td>
	                                                <td  style="width:70px" th:text="${element.get(5)+' $'}"></td>
	                                                <td  th:text="${element.get(6)}"></td>
	                                                <td  th:text="${element.get(7)+' $'}"></td>
	                                                <td  th:text="${element.get(8)}"></td>
	                                            </tr>
	                                           
	                                        </tbody>
	                                    </table>
                                     </div>			                                  
			                                
			                                <div class="jumbotron jumbot"></div>
			                            </div>
			                        </div>
			                        
			                       <div  th:fragment="pagination_card"  id="card-center-1" class="card shadow mb-12">
			                            <div id="div-total">
			                                <div class="d-inline" id="total-content" style="width:320px">
			                                    <p class="d-inline" id="title-total">TOTAL :&nbsp;</p><button class="btn btn-primary" id="button-total" type="button" style="padding-bottom: 0px;padding-top: 0px;padding-right: 0px;padding-left: 0px;">[[${totalContribution+' $'}]]</button></div>
			                            </div>
			                            <div class="card-body" id="card-bottom-body">
			                                <div class="row">
			                                    <div class="col-md-3 align-self-center">
			                                        <p id="dataTable_info" class="dataTables_info" role="status" aria-live="polite">Showing 1 to 5 of 7</p>
			                                    </div>
			                                    
			                                    <div class="col-md-9">
			                                         <nav th:replace="fragments :: safePagination" >
                                    
       												</nav>
       												<nav th:replace="fragments :: safePagination2" >
                                    
       								               </nav>
			                                    </div>
			                                </div>
			                            </div>
			                        </div>
			                         
			                    </div>
			                    
			                </div>
			                
			                
			            </div>
			                                  
			                                  
			                 </div>
                               
                                  
                                </div>
                                <div class="modal-footer" style="padding:0.1rem 0.1rem">
                                    <button class="btn btn-primary" type="button" data-dismiss="modal" >Fermer</button>
                                </div>
                            </div>
                        </div>
                    </div>
            		
          
          
          </div>
            <script src="assets/js/jquery.min.js"></script>
		    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
		    <script src="assets/js/script.min.js"></script>
            
 <script  th:inline="javascript" > 
 
 
      	 var state="Contributions"
         var mainList;
         var toggle=true;
         var idValue=-10;		            
	     
 
 

			            
function rembourseList()   {			            	
			    	        
                        	
           	if(toggle){
           		
           		state="Remboursements";
           		chiftTable("remboursementsByMatricule");
        		$("#table-member").show();
        		$("#tableMember").hide();
        		$("#rembourseBtn").text("Remboursements");
        		$("#montantARembourcer").show()        		
        		$("#div-total").show();        		
        		$("#div-total").load(location.href+ " #div-total");
        		
        		
        		
   	            //$("#empruntTitle").text("Tous les Emprunts");

           	}
            if(!toggle){
         	   
            	
            	state="Contributions";
         	    chiftTable("siteUserSearcher");
 	            $("#montantARembourcer").hide()
 	       		$("#table-member").hide();
 	       		$("#tableMember").show();
 	       		$("#div-total").hide();
 	       		$("#rembourseBtn").text("Contributions")	       		
 	       		
 	       		
 	       		//$("#empruntTitle").text("Tous les Emprunts Archives")
       	
        	}
			                                   
			    toggle=!toggle;
			                         	 
 }			            
			            
			            
			            

function chiftTable(url){
	
	console.log("++++tst+++++",state)
	 $(document).ready(function(){
 	       
         // Pagination
 	 
    		 $.ajax({
    				 url:"http://localhost:8080/"+url,
    				 type:"post",
    				 data:{
    					 page:0,
    					 keyWord:$("#keyWord").val(),
    					 //pagination:url=="debSearcher"? false:true,
    					 size:$("#pageSize").val(),
    				      },
    		 
    		        success: function(data){
    		       	
  		        	           $("#userSiteContainer").html(data); 
  		        	           
  		        	           if(url=="remboursementsByMatricule"){  		        	        	   
  		        	        	 $("#tableMember").show();
  		        	        	 $("#table-member").hide();  		        	        	 
  		        	        	 $("#montantARembourcer").hide();     		        	        	
 		        	        	 $("#rembourseBtn").text("Contributions");      		        	        	   
  		        	        	 state="Remboursements";
  		        	        	 $(".pagin1").hide();
  		        	        	 $(".pagin2").show();
  		        	        	 $("#div-total").hide();
  		        	        	 
  		        	           }else{
  		        	        	   
  		        	        	 $("#table-member").show();
  		        	        	 $("#tableMember").hide();  		        	        	 
  		        	        	 $("#montantARembourcer").show();
  		        	        	 $("#archiveBtn").text("Remboursements");
  		        	        	 state="Contributions";
  		        	        	 $(".pagin1").show();
  		        	        	 $(".pagin2").hide();
  		        	        	 $("#div-total").show();
  		        	           }
  		        	           
  		        	           //url=="archive"?$("#empruntTitle").text("Tous les Emprunts Archives"):$("#empruntTitle").text("Tous les Emprunts");
      		        	       console.log("Tout s'est bien passe");
                	           
    		        	
    		                      },        		          
    		          error: function(error){
    		        	  
    		        	        alert("le serveur  ne repond pas ")
    		        	  
    		                     }
    		        } );
    		 
     });
}               		            
			            
			            
			            
			            
			            
			            
			            
			            
	 function actions(type){
			           	
			           	 $(document).ready(function(){
			           		 
			          		 	  // var keyWord=$("#keyWord").val()==''?"all":$("#keyWord").val()   		 		
			       	    		  // var w=window.open("http://localhost:8080/contrib/generatePDF/"+currentTable+"/"+keyWord, "_blank");
			          		 		
			          		 		 //  setTimeout(function(){
			          		 			   
			          		 			 //var a = w.document.createElement('A');
			          					 //var filePath = w.location.href;
			          					 // a.href = filePath;
			          					 // a.download = filePath.substr(filePath.lastIndexOf('/') + 1);
			          					 // w.document.body.appendChild(a);
			          					  //a.click();
			          					  //w.document.body.removeChild(a);
			          		 			   
			          		 		  // },600)
			       				
			           	 })
			           	 
			           	 
		  }
			            
			            
	 function errorFonction() {
			        	   
			            if(typeof errorList !='undefined' && errorList.length>0 && errorList != null ){
			         		var messages="";
			         		console.log("===>",errorList);
			         		errorList.forEach((item,index)=>{messages+=item+"\n"; })  		
			         		alert(messages);
			         		
			            	}	
			            
			           }
			           
			            
			                                
	function setPages(pages)   {
			           	 
			           	allPages=pages;   
			           	
			           	console.log("========"+allPages);
			       	 
			        }
             
             
	function pagination1(page)   {
			       	   
			          	 $(document).ready(function(){
			          	       
			                   // Pagination
			           	       console.log("=========",state)
			              		 $.ajax({
			              			     url: (state=="Remboursements")?"http://localhost:8080/remboursementsByMatricule":"http://localhost:8080/siteUserSearcher",
			              				 type:"post",
			              				 data:{
			              					 page:page,
			              					 keyWord:$("#keyWord").val()!="undefined" || $("#keyWord").val()!=null || $("#keyWord").val()!="" ? $("#keyWord").val(): "" ,
			              					 pagination:$("#keyWord").val()==""? true:false,
			              					 size:$("#pageSize").val(),
			              				      },
			              		 
			              		        success: function(data){
			              		       	
		              		        	           $("#userSiteContainer").html(data); 
		       	                    	           $("#div-total-contrib").load(location.href+ " #div-total-contrib");		       	                    	          
		       	                    	           $("#siteUseModal").modal("show");
		       	                    	           
			       	                    	        if(state=="Contributions"){
			           			        	    	 
				           			        	    	 $("#div-total").show();				           			        	    	
				           			        	    	 $("#rembourseBtn").text("Remboursements");
				               			        	     document.querySelector("#tableMember").style.display="none";
				           	                    		 document.querySelector("#table-member").style.display="block";
				           	                    		 $(".pagin2").hide();
				           	                    		 $(".pagin1").show();
			           	                    		 
			           			        	        }else{
			           			        	    	 
				           			        	    	 $("#div-total").hide();				           			        	    	 
				           			        	    	 $("#rembourseBtn").text("Contributions"); 
				               			        	     document.querySelector("#tableMember").style.display="block";
				           	                    		 document.querySelector("#table-member").style.display="none";
				           	                    		 document.querySelector(".pagin2").style.display="block";
				           	                    		 document.querySelector(".pagin1").style.display="none";
			           			        	    	 
			           			        	        }
			       	                    		    
			       	                    		    
			              		        	
			              		                      },        		          
			              		         error: function(error){
			              		        	  
			              		        	      alert("Une error s'est produit lors de l'affichage de la liste des contribution")
			              		        	  
			              		              }
			              		        } );
			              		 
			                  });  
			          	
			       	 
			       }
	
	
	
	function pagination2(page)   {
   	    
     	 $(document).ready(function(){
     	       
              // Pagination
      	 
         		 $.ajax({
         				 url:"http://localhost:8080/remboursementsByMatricule",
         				 type:"post",
         				 data:{
         					 page:page,
         					 keyWord:$("#keyWord").val()!="undefined" || $("#keyWord").val()!=null || $("#keyWord").val()!="" ? $("#keyWord").val(): "" ,
         					 pagination:$("#keyWord").val()==""? true:false,
         					 size:$("#pageSize").val(),
         				      },
         		 
         		        success: function(data){
         		       	
     		        	               $("#userSiteContainer").html(data); 
	                    	           $("#div-total-contrib").load(location.href+ " #div-total-contrib");
	                    	           $("#div-total").hide(); 
	                    	           $("#rembourseBtn").text("Remboursements"); 
  	                    	           $("#tableMember").show();
  	                    		       $("#table-member").hide();
  	                    		       $(".pagin2").show();
  	                    		       $(".pagin1").hide();
         		        	            
         		                      },        		          
         		         error: function(error){
         		        	  
         		        	           alert("Une error s'est produit lors de l'affichage de la liste des contribution")
         		        	  
         		              }
         		        } );
         		 
             });  
     	
  	 
  }
			       	
			       	
			     // Page Size 
			        
	 function setPageSize()	{
        	$(document).ready(function(){
        	       
                // Pagination
        	     console.log("Call",$("#pageSize").val(),);
                
        	     var url=(state=="Remboursements")?"http://localhost:8080/remboursementsByMatricule":"http://localhost:8080/siteUserSearcher";
        	     
           		 $("#pageSize").on('change',function(){
           			console.log("the state is",state,);
           			 
           			$.ajax({
          				 url: url,
          				 type:"post",
          				 data:{          					 
          					 
          					 keyWord:$("#keyWord").val(),
          					 pagination:$("#keyWord").val()==""? true:false,
          					 size:$("#pageSize").val(),
          					 
          				      },
          		 
          		        success: function(data){
          		        	
          		       	         $("#userSiteContainer").html(data);     		        	
    			        	     $("#div-total-contrib").load(location.href+ " #div-total-contrib");
    			        	     
    			        	     if(state=="Contributions"){
    			        	    	 
    			        	    	 $("#div-total").show();    			        	    	 
    			        	    	 $("#rembourseBtn").text("Contributions");
        			        	     $("#tableMember").hide();
    	                    		 $("#table-member").show();
    	                    		 $(".pagin2").hide();
    	                    		 $(".pagin1").show();
    	                    		 
    			        	     }else{
    			        	    	 
    			        	    	 $("#div-total").hide();    			        	    	 
    			        	    	 $("#rembourseBtn").text("Remboursements"); 
        			        	     $("#tableMember").show();
    	                    		 $("#table-member").hide();
    	                    		 $(".pagin2").show();
    	                    		 $(".pagin1").hide();
    			        	    	 
    			        	     }    			        	     
	                    		    
          		           },
          		           
          		          error: function(error){
    			       		     alert("error in select")
          		        	  
          		           }
          		           
          		} );
			           			 
			           			 
		})
			           		 
	 });
			        	
}  	
             
             
 </script>
</body>
</html>